# üåø Leaf Lens

**Leaf Lens** is the official companion app for the **Leaf Ink** ecosystem. It allows developers to instantly preview their Capacitor applications on real devices without the need for a full native build process during development.

Think of it as "Expo Go" but for the Leaf ecosystem, pre-loaded with a curated set of native plugins.

---

## ‚ú® Features

### üöÄ Instant Preview

- **QR Code Scanning**: Scan the QR code generated by the `leaf lens` CLI command to instantly load your app.
- **Manual Entry**: Manually enter your development server URL (e.g., `http://192.168.1.x:3000`).
- **Deep Linking**: Support for `leaflens://open?url=...` to launch apps directly from the browser or CLI.

### üõ†Ô∏è Developer Tools

- **Plugin Inspector**: View the list of native plugins and versions currently supported by the runtime.
- **Console Logs**: (Coming Soon) Stream device logs back to your CLI.

### üì± Native Capabilities

Leaf Lens comes pre-bundled with essential Capacitor plugins, so you can test native functionality immediately:

- **Camera**: Take photos and scan barcodes.
- **Haptics**: Vibration and impact feedback.
- **Share**: Native share sheet integration.
- **Preferences**: Persist data locally.
- **Device**: Access device information.
- **Status Bar**: Control status bar style and overlay.

### üé® User Experience

- **History**: Keeps track of your recently visited development servers.
- **Favorites**: Pin your most frequently used apps for quick access.
- **Theming**: Beautiful UI with support for **Light**, **Dark**, and **Automatic** (System) modes.
- **Glassmorphism**: Modern, premium UI design with blurred overlays and smooth animations.

---

## üìñ Usage

### 1. Start your Dev Server

In your Leaf/Capacitor project, start your development server:

```bash
npm run dev
```

Ensure your server is accessible on your local network (e.g., use `--host`).

### 2. Connect with Leaf Lens

- **Option A (QR Code)**: Run `leaf lens` in your terminal to generate a QR code, then scan it with the app.
- **Option B (Deep Link)**: Click the link provided by the CLI to open Leaf Lens directly.
- **Option C (Manual)**: Open Leaf Lens and type your server URL.

## üèóÔ∏è Architecture

Leaf Lens is built with a modern stack designed for performance and developer experience:

- **Framework**: [React](https://react.dev/) + [Vite](https://vitejs.dev/)
- **Runtime**: [Capacitor](https://capacitorjs.com/)
- **Styling**: SCSS Modules with CSS Variables for theming.
- **Icons**: [Lucide React](https://lucide.dev/)
- **State Management**: React Hooks (`useState`, `useEffect`).

### Key Components

- **`App.tsx`**: Main application logic, routing, and UI layout.
- **`LensLoaderPlugin`**: A custom native plugin (iOS/Android) responsible for dynamically loading the external webview URL.
- **`leaf.json`**: Configuration file defining the supported plugin set.

---

## üíª Development

If you want to contribute to Leaf Lens or build your own runner:

### Prerequisites

- Node.js 18+
- Xcode (for iOS)
- Android Studio (for Android)

### Setup

```bash
# Install dependencies
npm install

# Run web preview
npm run dev
```

### Native Build

```bash
# Sync Capacitor config
npx cap sync

# Run on iOS Simulator/Device
npx cap run ios

# Run on Android Emulator/Device
npx cap run android
```

---

## ü§ù Contributing

Contributions are welcome! Please read our contributing guidelines before submitting a pull request.

---

Built with ‚ù§Ô∏è by the **Leaf Ink** team.
